<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8" />
    <title>Hello World</title>
    <link href="https://cdn.bootcss.com/bootstrap/3.3.6/css/bootstrap.css" rel="stylesheet">
    <script src="https://unpkg.com/react@16/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/babel-standalone@6.15.0/babel.min.js"></script>
</head>
<body>

<div class="container" id="container">


</div>


<script type="text/babel">

function Panel(props){
    return (
            <div className="panel panel-default">
                <div className="panel-body">
                    <div className="row">
                        <div className="col-md-12">
                            <a href="asd.html"><h3 >{props["data"]["title"]}</h3></a>
                        </div>
                    </div>
                    <div className="row">
                        <div className="col-md-4 ">
                            <img src={props["data"]["icon"]} className="img-responsive">
                            </img>
                        </div>
                        <div className="col-md-8">
                            <div className="row">
                                <p>{props["data"]["description"]}</p>
                            </div>
                        </div>
                    </div>

                    <div className="fixed-bottom">
                        <div className="col-md-2 col-md-offset-8">
                            <p><span className="glyphicon glyphicon-user" aria-hidden="true"></span>{props["data"]["author"]}</p>
                        </div>
                        <div className="col-md-2">
                            time
                        </div>
                    </div>
                </div>
            </div>
    )
}


var ydRequest = new XMLHttpRequest();
ydRequest.open("GET","http://www.iyingdi.cn/feed/list/seed?&web=1&seed=2&system=web");
ydRequest.send();
ydRequest.onload = function(){

    var ydData = JSON.parse(ydRequest.responseText);
    var panels=[]
    for(let i=0;i<ydData["feeds"].length;i++){
        var panel = <Panel data={ydData["feeds"][i]["feed"]} key={i.toString()}/>
        panels.push(panel)
    }
    ReactDOM.render(
        panels,
        document.getElementById('container')
    );
};

/*function Welcome(props) {
    const comments = [];
    for (let comment of props.comments.comments) {
        comments.push( // 循环每个用户，构建 JSX，push 到数组中
            <p key={comment}>{comment}</p>
        )
    }
    return (
        <div>
            {comments}
        </div>
    )
}

var comments={
    comments:[
        "aaaaaaaa",
        "bbbbbbbb",
        "cccccccc",
        "dddddddd",
        "sdsdsds"
    ]
}*/
</script>

</body>
</html>